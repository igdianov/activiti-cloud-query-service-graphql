spring.application.name=graphql
spring.cloud.stream.bindings.producer.destination=engineEvents
spring.cloud.stream.bindings.producer.contentType=application/json
spring.cloud.stream.bindings.queryConsumer.destination=engineEvents
spring.cloud.stream.bindings.queryConsumer.group=query
spring.cloud.stream.bindings.queryConsumer.contentType=application/json
spring.jackson.serialization.fail-on-unwrapped-type-identifiers=false

spring.cloud.stream.bindings.notificationsConsumer.consumer.concurrency=2
spring.cloud.stream.rabbit.bindings.notificationsConsumer.consumer.prefetch=10

spring.cloud.stream.binders.notificatonsGateway.type=rabbit

spring.cloud.stream.bindings.notificatonsGateway.binder=notificatonsGateway
spring.cloud.stream.bindings.notificatonsGateway.destination=amq.topic
spring.cloud.stream.bindings.notificatonsGateway.content-type=application/json
spring.cloud.stream.rabbit.bindings.notificatonsGateway.producer.exchange-type=topic
spring.cloud.stream.rabbit.bindings.notificatonsGateway.producer.routing-key-expression=headers['routingKey']

#comment out this testing of security until proc def key made available to these tests
#activiti.cloud.security.user.testuser.mock-app-name.policy.read=defKey1
#activiti.cloud.security.user.hruser.mock-app-name.policy.read=defKey2

keycloak.principal-attribute=preferred-username

keycloak.security-constraints[0].authRoles[0]=ACTIVITI_ADMIN
keycloak.security-constraints[0].securityCollections[0].patterns[0]=/graphql
keycloak.security-constraints[0].securityCollections[0].patterns[1]=/graphql/*
#keycloak.security-constraints[1].authRoles[0]=ACTIVITI_ADMIN
#keycloak.security-constraints[1].securityCollections[0].patterns[0]=/ws/graphql

activiti.keycloak.test-user=testadmin
activiti.keycloak.test-password=password

keycloak.auth-server-url=http://localhost:8180/auth
keycloak.realm=activiti
keycloak.resource=activiti
keycloak.public-client=true